# FanqieQimaoDownloader - 路线图


## 待修复/待实现任务

### 高优先级

- [x] 修复Websocket进度显示异常的问题
- [x] 修复完结/连载中状态显示相反的问题
- [x] 搜索书籍分页支持
- [x] 修复测试中的认证问题（TestClient 需要模拟认证状态）
- [x] 修复 WebSocket 更新逻辑问题（提前注册回调、增强日志）
- [x] 添加 WebSocket 集成测试
- [x] PWA 支持 (基础实现：`manifest.json`、`sw.js`、图标与生成脚本)
- [ ] 深色模式
- [ ] 书籍详情页面美化
- [ ] 完善PWA功能（离线支持、缓存策略优化）

### 中优先级

- [ ] 前端代码重构（提取公共组件）
- [ ] API 文档完善（OpenAPI 注释）
- [ ] 性能优化（大量章节时的内存使用）

### 低优先级

- [ ] 国际化支持 (i18n)
- [ ] 完善错误处理和日志

---

## 计划中的功能

### v1.4.0 - 进行中
**后台管理界面**
- [ ] 密码修改
- [ ] 任务管理（暂停、取消）
- [ ] 日志查看
- [ ] 系统设置（API密钥、下载目录等）
- [ ] 用户管理（多用户支持）
- [ ] 统计报表（下载统计、书籍统计等）
- [ ] 通知设置（邮件、Webhooks等）
- [ ] 界面美化与响应式设计
- [ ] 集成测试覆盖后台管理功能
- [ ] 完善后台管理文档
- [ ] 部署指南更新（包含后台管理配置）

### v1.5.0 - 计划中

**阅读器功能**

- [ ] 在线阅读器界面
- [ ] 阅读进度同步
- [ ] 书签功能
- [ ] 阅读设置（字体、主题、行距）
- [ ] 章节跳转

### v1.6.0 - 计划中

**书架管理增强**

- [ ] 书籍分类/标签
- [ ] 书籍搜索（本地）
- [ ] 批量操作（删除、导出）
- [ ] 阅读统计
- [ ] 书籍排序（更新时间、添加时间、名称）

### v1.7.0 - 计划中

**自动化功能**

- [ ] 自动更新检测（定时任务）
- [ ] 新章节通知
- [ ] 自动下载新章节
- [ ] Webhook 通知支持

### v2.0.0 - 远期规划

**多平台支持**

- [ ] 更多小说平台支持
- [ ] 插件化平台架构
- [ ] 自定义 API 接入

---

## 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发环境

```bash
# 克隆仓库
git clone https://github.com/qisumi/fanqie-qimao-downloader.git
cd fanqie-qimao-downloader

# 创建虚拟环境
python -m venv .venv
.venv\Scripts\activate  # Windows
source .venv/bin/activate  # Linux/macOS

# 安装依赖
pip install -r requirements.txt

# 运行测试
pytest tests/ -v

# 启动开发服务器
python start.py
```

### 代码规范

- 遵循 PEP 8 代码风格
- 使用类型注解
- 编写单元测试
- 更新文档

### 提交规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
refactor: 代码重构
test: 测试相关
chore: 构建/工具相关
```
