# FanqieQimaoDownloader - 项目路线图

## 📋 项目概述

FanqieQimaoDownloader 是一个基于 Rain API V3 的小说下载与管理工具，支持番茄小说、七猫小说和笔趣阁等多个平台。项目采用 Vue 3 + FastAPI 架构，提供完整的 PWA 体验和在线阅读功能。

## 🎯 当前版本状态

**最新版本：v1.7.0** (2025-12-22)

### ✅ 已完成的核心功能

- **多平台支持**：番茄小说、七猫小说、笔趣阁、本地 TXT 上传
- **智能下载系统**：异步并发下载，自动重试，增量更新
- **EPUB/TXT 导出**：标准电子书格式生成
- **在线阅读器**：翻页/滚动模式，书签，阅读设置
- **PWA 完整支持**：离线缓存，应用安装，自动更新
- **用户系统**：公共/私人书架，配额管理
- **实时进度**：WebSocket 进度推送
- **响应式设计**：桌面端和移动端适配

## 🚀 版本历史

### v1.7.0 - 最新版本 (2025-12-22)
- ✨ 新增本地 TXT 小说上传功能，支持正则解析章节
- ✨ 新增本地书籍搜索与管理支持
- 🐛 修复本地上传小说阅读时的章节定位与加载问题
- 🛠 改进阅读器性能与 PWA 稳定性

### v1.6.6 (2025-12-22)

### v1.6.5 (2025-12-15)
- ✨ TXT 导出功能完整实现
- ✨ PWA 控制按钮组件
- 🐛 修复书籍元信息更新 BUG
- 🐛 修复 PWA 控制按钮图标导入错误
- 🐛 修复 SettingsView 缺失组件导入
- 🛠 前端构建稳定性改进

### v1.6.4 (2025-12-04)
- ✨ 新增笔趣阁API支持
- 🎨 阅读器字体增强（霞鹜文楷、思源字体等）
- 📝 中文排版优化（标点挤压、避头尾）
- 🔄 翻页模式重构（移除第三方依赖）
- ⚡ 分页算法优化

### v1.6.3 - v1.6.1 (2025-12-04)
- 🎨 阅读器字体与排版优化
- 🔄 翻页模式重构与稳定性改进
- 📱 移动端适配优化

### v1.6.0 (2025-12-03)
- 📖 在线阅读器功能完整实现
- 🎨 阅读设置（字体、主题、行距）
- 🔖 书签功能与章节跳转

### v1.5.1 - v1.5.0 (2025-12-03)
- 👥 公共/私人书架系统
- 📱 移动端界面优化
- ⚙️ 用户管理功能

### v1.4.3 - v1.4.0 (2025-11-30)
- 🌐 Vue 3 + Naive UI 前端重构
- 🌙 深色模式支持
- 📱 PWA 功能完善
- 🔧 后端服务模块化重构

## 📅 开发路线图

### 🔥 短期计划 (v1.8.0)

**阅读器体验优化**
- [ ] 书签功能完善
- [ ] 内容替换规则支持自定义
- [ ] 夜间模式进一步优化
- [ ] 阅读器性能优化（大量章节内存使用）

**书架管理增强**
- [ ] 书籍分类/标签系统
- [ ] 本地书籍搜索功能
- [ ] 阅读统计仪表盘

**PWA 功能增强**
- [ ] PWA离线阅读功能优化
- [ ] PWA缓存管理界面
- [ ] 离线阅读进度同步

### 🎯 中期计划 (v1.9.0)

**书架管理进阶**
- [ ] 批量操作（删除、导出）
- [ ] 书籍多维度排序
- [ ] 阅读习惯分析
- [ ] 个性化推荐

**自动化功能**
- [ ] 自动更新检测（定时任务）
- [ ] 新章节通知系统
- [ ] 自动下载新章节
- [ ] Webhook 通知支持

**系统优化**
- [ ] 性能监控与优化
- [ ] 错误处理和日志完善
- [ ] 数据备份与恢复
- [ ] 系统健康检查

**用户体验提升**
- [ ] 阅读目标设定
- [ ] 社交分享功能

### 🌟 长期愿景 (v2.0.0+)

**多平台生态**
- [ ] 更多小说平台支持
- [ ] 插件化平台架构
- [ ] 自定义 API 接入
- [ ] 第三方插件市场

**高级功能**
- [ ] 多语言国际化支持 (i18n)
- [ ] 音频章节支持
- [ ] AI 辅助阅读功能
- [ ] 云端同步服务

**社区建设**
- [ ] 用户评论与评分系统
- [ ] 阅读社区功能
- [ ] 作者互动平台
- [ ] 内容创作工具

## 🛠️ 技术债务与优化

### 高优先级
- [ ] 性能优化（大量章节时的内存使用）
- [ ] 错误处理和日志系统完善
- [ ] API 文档完善（OpenAPI 注释）

### 中优先级
- [ ] 代码重构与模块化
- [ ] 测试覆盖率提升
- [ ] 安全性加固

### 低优先级
- [ ] 国际化支持 (i18n)
- [ ] 监控与告警系统
- [ ] 自动化部署流程

## 📊 项目里程碑

| 阶段 | 版本 | 状态 | 主要成就 |
|------|------|------|----------|
| Phase 1 | v1.0.0 | ✅ 完成 | 基础架构与核心功能 |
| Phase 2 | v1.2.0 | ✅ 完成 | WebSocket 实时进度 |
| Phase 3 | v1.4.0 | ✅ 完成 | Vue 3 前端重构 |
| Phase 4 | v1.6.0 | ✅ 完成 | 在线阅读器功能 |
| Phase 5 | v1.7.0 | ✅ 完成 | 本地上传与 PWA 增强 |
| Phase 6 | v1.8.0 | 📋 计划中 | 自动化功能 |
| Phase 7 | v2.0.0 | 🔮 规划中 | 多平台生态 |

## 🤝 贡献指南

我们欢迎所有形式的贡献！请查看以下指南：

### 开发环境设置

```bash
# 克隆仓库
git clone https://github.com/qisumi/fanqie-qimao-downloader.git
cd fanqie-qimao-downloader

# 创建虚拟环境
python -m venv .venv
.venv\Scripts\activate  # Windows
source .venv/bin/activate  # Linux/macOS

# 安装后端依赖
pip install -r requirements.txt

# 安装前端依赖
cd frontend
npm install
npm run build  # 构建前端资源
cd ..

# 初始化数据库
python init_db.py

# 运行测试
pytest tests/ -v

# 启动开发服务器
python start.py
```

### 代码规范

- **Python**: 遵循 PEP 8 代码风格，使用类型注解
- **JavaScript/Vue**: 使用 ESLint + Prettier 格式化
- **提交信息**: 遵循 Conventional Commits 规范

### 提交规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 代码重构
test: 测试相关
chore: 构建/工具相关
perf: 性能优化
ci: CI/CD 相关
```

## 📞 联系方式

- **项目主页**: https://github.com/qisumi/fanqie-qimao-downloader
- **问题反馈**: [GitHub Issues](https://github.com/qisumi/fanqie-qimao-downloader/issues)
- **功能建议**: [GitHub Discussions](https://github.com/qisumi/fanqie-qimao-downloader/discussions)

---

*最后更新时间：2025-12-22*
